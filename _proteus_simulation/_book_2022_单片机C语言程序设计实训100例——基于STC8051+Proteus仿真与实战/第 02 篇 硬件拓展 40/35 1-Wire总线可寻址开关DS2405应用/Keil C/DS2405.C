//-------------------------- ds2405.c -----------------------------
//  名称: DS2405 1-Wire可寻址开关器件程序
//-----------------------------------------------------------------
#include <reg51.h>
#include <intrins.h>
#include <stdio.h>
#define u8 	unsigned char
#define u16	unsigned int
#include  "DS2405.h"
u8 CRC8;									//循环冗余校验码
char RomCodeString[] = {"0000000000000000"};//64位光刻编码(ROMCODE,8字节)
//-----------------------------------------------------------------
// us延时函数@12MHz
//-----------------------------------------------------------------
void delay1us() {_nop_(); _nop_(); _nop_(); _nop_();}
void delay_us(u16 x) { while (x--) {_nop_();_nop_();_nop_();_nop_();}}
//-----------------------------------------------------------------
// ms延时函数@12MHz(限于1-255)
//-----------------------------------------------------------------
#define MAIN_Fosc 12000000L
void delay_ms(u8 ms) {
	u16 i;
	do{
		i = MAIN_Fosc / 13000; while(--i);
	} while(--ms);
}
//-----------------------------------------------------------------
// 复位DS2405(1:复位成功,0:复位失败) 
//----------------------------------------------------------------- 
u8 DS_Reset() {


}
//-----------------------------------------------------------------
// 向1-Wire总线写1位0/1
//-----------------------------------------------------------------
void Write_DQ_bit(u8 b) { 

}
//-----------------------------------------------------------------
// 发送读时隙时序
//-----------------------------------------------------------------
void Read_Slot() {

}
//-----------------------------------------------------------------
// 写一个字节(由低位到高位输出)
//-----------------------------------------------------------------
void DS_Write_Byte(u8 A) {

}
//-----------------------------------------------------------------
// DS2405 ROMCODE匹配
//-----------------------------------------------------------------
void DS_Match_ROM(u8 sROMID[]) {

}
//-----------------------------------------------------------------
// 读一个字节(高位在前,低位在后)(读取单个器件ROM时使用)
//-----------------------------------------------------------------
u8 DS_Read_Byte() { 

} 
//-----------------------------------------------------------------
// 获取DS2405的ROMCODE(读取单个器件ROM时使用)
//-----------------------------------------------------------------
void DS_Read_ROM(u8 sROMID[]) {

}