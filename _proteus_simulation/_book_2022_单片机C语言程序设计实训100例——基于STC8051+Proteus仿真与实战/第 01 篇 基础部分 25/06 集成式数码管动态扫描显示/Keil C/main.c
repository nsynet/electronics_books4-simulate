//---------------------------------------------------------------------
//  名称: 集成式数码管动态扫描显示
//---------------------------------------------------------------------
//  说明: 本案例使用动态扫描显示方法在8位数码管上显示指定数组内容
//	
//---------------------------------------------------------------------
#include "STC15xxx.h"
#define u8 	unsigned char
#define u16	unsigned int
#define MAIN_Fosc 12000000L
//共阳数码管0～9的段码表
code u8 SEG_CODE[] = 
 { 0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90 };
//待显示到数码管的8个数字
code u8 array[] = { 2,0,3,5,1,2,1,5 };
//---------------------------------------------------------------------
// 延时函数(参数取值限于1～255)
//---------------------------------------------------------------------
void delay_ms(u8 ms) {
	u16 i;
	do{
		i = MAIN_Fosc / 13000;
		while(--i);
	}while(--ms);
}
//---------------------------------------------------------------------
// 主程序
//---------------------------------------------------------------------
void main() {
	u8 i;  
	P0M1 = 0x00; P0M0 = 0x00;				//配置为准双向口
	P1M1 = 0x00; P1M0 = 0x00;
	while (1) {
		for( i = 0; i < 8; i++ ) {			//8位数码管循环动态扫描显示

		
		}
	}
}
