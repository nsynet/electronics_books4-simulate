//-----------------------------------------------------------------
//  名称: 三端可调正电压稳压器LM317应用测试
//-----------------------------------------------------------------
//  说明: 本例运行时,通过两个按键可实现1.5V～9.0V的直流电压步进调节,
//		  步进值为0.5V,输出电压值将同时显示6位共阳数码管上.
//
//-----------------------------------------------------------------
#include <TimerOne.h>
//0-9的数码管段码,最后3位是黑屏及"dC"的段码,索引为10,11,12
const uint8_t CA_SEGCODE[] =
{ 0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90,0xFF,0xA1,0xC6};
//显示缓冲(初始时显示DC 1.5V
uint8_t Disp_Buff[] = {11,12,10,1,5,0};
uint8_t i = 0, volt = 0, Disp_Volt = 0, PreKey = 0xFF;
#define K1	18							//K1按键引脚
#define K2	19							//K2按键引脚
#define K1_DOWN() (digitalRead(K1) == 0)//K1按下
#define K2_DOWN() (digitalRead(K2) == 0)//K2按下
#define ReadKey() (PINC & B00110000)	//读按键状态
//-----------------------------------------------------------------
// 初始配置
//-----------------------------------------------------------------
void setup() {

}
//-----------------------------------------------------------------
// 主循环
//-----------------------------------------------------------------
void loop() {

}
//-----------------------------------------------------------------
// TIMER1定时中断服务函数(每4ms调用一次）
//-----------------------------------------------------------------
void Refresh_DSY() {

}