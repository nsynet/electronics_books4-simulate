-------------------------------------------------------------------------------
#include <reg51.h>
#define led0 P0           //定义led0接P0口
#define led1 P1           //定义led1接P1口
#define led2 P2           //定义led2接P2口
#define led3 P3           //定义led3接P3口
char code seg[ ]={0xfe,0xfd,0xfb,0xf7,0xef,
0xdf,0xbf,0x7f,0xff};         //灯依次点亮的数据码
delay(int);
main( )
{ led0=0xff;      //初始化，P0口的灯全灭
led1=0xff;      //初始化，P1口的灯全灭
led2=0xff;      //初始化，P2口的灯全灭
led3=0xff;      //初始化，P3口的灯全灭
   while(1)
    { int i;
     for(i=0;i<9;i++)
        {delay(200);
         led0=seg[i];     //P0口的灯依次点亮
  }
   for(i=0;i<9;i++)
        {delay(200);
         led1=seg[i];     //P1口的灯依次点亮
         }
   for(i=0;i<9;i++)
        {delay(200);
         led2=seg[i];     //P2口的灯依次点亮
         }
    for(i=0;i<9;i++)      
        {delay(200);
         led3=seg[i];     //P3口的灯依次点亮
         }
      }
 }
delay(int x)              // 1ms延时程序
{ int i,j;
  for(i=0;i<x;i++)
  for(j=0;j<120;j++);
}
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------